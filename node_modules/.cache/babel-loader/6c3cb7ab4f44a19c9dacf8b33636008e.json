{"ast":null,"code":"var _jsxFileName = \"/home/kartik/Desktop/Comment-Box/src/Components/CommentForm.jsx\";\nimport RaisedButton from 'material-ui/RaisedButton';\nimport Paper from 'material-ui/Paper';\nimport TextField from 'material-ui/TextField';\nimport Divider from 'material-ui/Divider';\nimport React from 'react';\n\nclass CommentForm extends React.Component {\n  constructor() {\n    super();\n\n    this.addToLocal = () => {\n      var restoredComments = JSON.parse(localStorage.getItem('comments'));\n      console.log(restoredComments);\n      const comment = {\n        id: restoredComments == null ? 1 : Object.keys(restoredComments).length + 1,\n        author: this.state.nameValue,\n        body: this.state.bodyValue\n      };\n      restoredComments == null ? localStorage.setItem('comments', JSON.stringify(comment)) : restoredComments.comments.push(comment);\n\n      if (restoredComments) {\n        localStorage.setItem('comments', JSON.stringify(restoredComments));\n      } // localStorage.setItem('comments',JSON.stringify(this.state.comments));\t\t\n\n    };\n\n    this.state = {\n      charCount: 0,\n      nameValue: null,\n      bodyValue: null,\n      warningTextForName: '',\n      warningTextForMessage: ''\n    };\n  }\n\n  componentWillMount() {\n    var commentList = {\n      comments: []\n    };\n\n    if (!localStorage.getItem('comments')) {\n      localStorage.setItem('comments', JSON.stringify(commentList));\n    }\n  }\n\n  render() {\n    return React.createElement(Paper, {\n      style: {\n        padding: '15px',\n        backgroundColor: '#ccc'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this._handleSubmit.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \" New Comment \"), React.createElement(TextField, {\n      onChange: this._textEnterName.bind(this),\n      fullWidth: true,\n      floatingLabelText: \"Name\",\n      value: this.state.nameValue,\n      hintText: \"Name\",\n      underlineShow: false,\n      ref: input => this._author = input,\n      errorText: this.state.warningTextForName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(Divider, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      onChange: this._textEnterBody.bind(this),\n      onKeyUp: this._charCounter.bind(this),\n      hintText: \"Comment\",\n      multiLine: true,\n      value: this.state.bodyValue,\n      underlineShow: false,\n      floatingLabelText: \"Message\",\n      ref: textarea => this._body = textarea,\n      errorText: this.state.warningTextForMessage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(Divider, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(RaisedButton, {\n      onClick: this.addToLocal,\n      type: \"submit\",\n      secondary: true,\n      label: \"Post Comment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, this.state.charCount, \" characters\")));\n  }\n\n  _textEnterName(event) {\n    event.preventDefault();\n    let author = this._author;\n    this.setState({\n      nameValue: event.target.value\n    });\n\n    if (author.getValue().trim().length > 0) {\n      this.setState({\n        warningTextForName: ''\n      });\n    }\n\n    if (author.getValue().trim().length === 0) {\n      this.setState({\n        warningTextForName: 'This field required!'\n      });\n    }\n  }\n\n  _textEnterBody(event) {\n    event.preventDefault();\n    let body = this._body;\n    this.setState({\n      bodyValue: event.target.value\n    });\n\n    if (body.getValue().trim().length > 0) {\n      this.setState({\n        warningTextForMessage: ''\n      });\n    }\n\n    if (body.getValue().trim().length === 0) {\n      this.setState({\n        warningTextForMessage: 'This field required!'\n      });\n    }\n  }\n\n  _handleSubmit(event) {\n    event.preventDefault();\n    let author = this._author;\n    let body = this._body;\n\n    if (author.getValue().trim().length > 0 && body.getValue().trim().length > 0) {\n      this.props.addComment(author.getValue(), body.getValue());\n      this.setState({\n        nameValue: '',\n        bodyValue: '',\n        charCount: 0\n      });\n    }\n\n    if (!author.getValue().trim().length > 0) {\n      this.setState({\n        warningTextForName: 'This field required!'\n      });\n    }\n\n    if (!body.getValue().trim().length > 0) {\n      this.setState({\n        warningTextForMessage: 'This field required!'\n      });\n    }\n  }\n\n  _charCounter() {\n    this.setState({\n      charCount: this._body.getValue().length\n    });\n  }\n\n} // module.exports = CommentForm;\n// CommentForm.props = {}\n\n\nexport default CommentForm;","map":{"version":3,"sources":["/home/kartik/Desktop/Comment-Box/src/Components/CommentForm.jsx"],"names":["RaisedButton","Paper","TextField","Divider","React","CommentForm","Component","constructor","addToLocal","restoredComments","JSON","parse","localStorage","getItem","console","log","comment","id","Object","keys","length","author","state","nameValue","body","bodyValue","setItem","stringify","comments","push","charCount","warningTextForName","warningTextForMessage","componentWillMount","commentList","render","padding","backgroundColor","_handleSubmit","bind","_textEnterName","input","_author","_textEnterBody","_charCounter","textarea","_body","event","preventDefault","setState","target","value","getValue","trim","props","addComment"],"mappings":"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","sourcesContent":["import RaisedButton from 'material-ui/RaisedButton';\nimport Paper from 'material-ui/Paper';\nimport TextField from 'material-ui/TextField';\nimport Divider from 'material-ui/Divider';\nimport React from 'react';\n\n\nclass CommentForm extends React.Component {\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tcharCount: 0,\n\t\t\tnameValue: null,\n\t\t\tbodyValue: null,\n\t\t\twarningTextForName: '',\n\t\t\twarningTextForMessage: ''\n\n\t\t}\n\t}\n\n\tcomponentWillMount() {\n\n\t\tvar commentList = \n\t\t{\n\t\t\tcomments : \n\t\t\t[]\n\t\t}\n\n\t\tif(!localStorage.getItem('comments')){\n\t\t\tlocalStorage.setItem('comments',JSON.stringify(commentList));\n\t\t}\n\t}\n\n\n\taddToLocal = () => {\n\n\n\t\tvar restoredComments = JSON.parse(localStorage.getItem('comments'));\n\t\tconsole.log(restoredComments);\n\n\t\tconst comment = {\n\t\t\tid: restoredComments==null ? 1 : Object.keys(restoredComments).length+ 1,\n\t\t\tauthor: this.state.nameValue,\n\t\t\tbody: this.state.bodyValue\n\t\t};\n  \t\trestoredComments==null ? localStorage.setItem('comments',JSON.stringify(comment)) : restoredComments.comments.push(comment);\n  \t\tif (restoredComments) {\n  \t\t\tlocalStorage.setItem('comments', JSON.stringify(restoredComments));\n\n  \t\t} \n\t\t// localStorage.setItem('comments',JSON.stringify(this.state.comments));\t\t\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Paper style={{padding:'15px', backgroundColor:'#ccc'}}>\n\t\t\t\t<form onSubmit={this._handleSubmit.bind(this)}>\n\t\t\t\t\t<h3> New Comment </h3>\n\t\t\t\t\t<TextField onChange={this._textEnterName.bind(this)} fullWidth={true}\n\t\t\t\t\t\t\t\t\t\t floatingLabelText=\"Name\"\n\t\t\t\t\t\t\t\t\t\t value={this.state.nameValue}\n\t\t\t\t\t\t\t\t\t\t hintText=\"Name\"\n\t\t\t\t\t\t\t\t\t\t underlineShow={false}\n\t\t\t\t\t\t\t\t\t\t ref={(input) => this._author = input}\n\t\t\t\t\t\t\t\t\t\t errorText={this.state.warningTextForName}\n\t\t\t\t\t/>\n\t\t\t\t\t<Divider />\n\t\t\t\t\t<TextField onChange={this._textEnterBody.bind(this)} onKeyUp={this._charCounter.bind(this)}\n\t\t\t\t\t\t\t\t\t\t hintText=\"Comment\" multiLine={true}\n\t\t\t\t\t\t\t\t\t\t value={this.state.bodyValue}\n\t\t\t\t\t\t\t\t\t\t underlineShow={false}\n\t\t\t\t\t\t\t\t\t\t floatingLabelText=\"Message\"\n\t\t\t\t\t\t\t\t\t\t ref={(textarea) => this._body = textarea}\n\t\t\t\t\t\t\t\t\t\t errorText={this.state.warningTextForMessage}\n\t\t\t\t\t/>\n\t\t\t\t\t<Divider />\n\t\t\t\t\t<br />\n\t\t\t\t\t<br />\n\t\t\t\t\t<RaisedButton onClick={this.addToLocal} type=\"submit\" secondary={true} label=\"Post Comment\"/>\n\t\t\t\t\t<br />\n\t\t\t\t\t<br />\n\t\t\t\t\t<div>{this.state.charCount} characters</div>\n\t\t\t\t</form>\n\t\t\t</Paper>\n\t\t)\n\t}\n\n\t_textEnterName(event) {\n\t\tevent.preventDefault();\n\t\tlet author = this._author;\n\t\tthis.setState({\n\t\t\tnameValue: event.target.value\n\t\t})\n\t\tif (author.getValue().trim().length > 0) {\n\t\t\tthis.setState({\n\t\t\t\twarningTextForName: ''\n\t\t\t});\n\t\t}\n\t\tif(author.getValue().trim().length === 0){\n\t\t\tthis.setState({\n\t\t\t\twarningTextForName: 'This field required!'\n\t\t\t});\n\t\t}\n\t}\n\t_textEnterBody(event) {\n\t\tevent.preventDefault();\n\t\tlet body = this._body;\n\t\tthis.setState({\n\t\t\tbodyValue: event.target.value\n\t\t})\n\t\tif (body.getValue().trim().length > 0) {\n\t\t\tthis.setState({\n\t\t\t\twarningTextForMessage: ''\n\t\t\t});\n\t\t}\n\t\tif(body.getValue().trim().length === 0){\n\t\t\tthis.setState({\n\t\t\t\twarningTextForMessage: 'This field required!'\n\t\t\t});\n\t\t}\n\t}\n\t_handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\tlet author = this._author;\n\t\tlet body = this._body;\n\t\tif (author.getValue().trim().length > 0 && body.getValue().trim().length > 0) {\n\t\t\tthis.props.addComment(author.getValue(), body.getValue());\n\t\t\tthis.setState({\n\t\t\t\tnameValue:'',\n\t\t\t\tbodyValue:'',\n\t\t\t\tcharCount:0\n\t\t\t});\n\t\t}\n\t\tif(!author.getValue().trim().length > 0){\n\t\t\tthis.setState({\n\t\t\twarningTextForName: 'This field required!'\n\t\t\t});\n\t\t}\n\t\tif(!body.getValue().trim().length > 0){\n\t\t\tthis.setState({\n\t\t\t\twarningTextForMessage: 'This field required!'\n\t\t\t});\n\t\t}\n\t}\n\n\n\t_charCounter() {\n\t\tthis.setState({\n\t\t\tcharCount: this._body.getValue().length\n\t\t})\n\t}\n}\n\n// module.exports = CommentForm;\n\n// CommentForm.props = {}\n\nexport default CommentForm;"]},"metadata":{},"sourceType":"module"}